<% if current_user %>
  <%= search_form_for @q, url: posts_path do |f| %>
    <div class="flex justify-between">
      <div class="w-full mr-4 md:flex justify-between">
        <div class="w-full">
          <div data-controller="autocomplete" data-autocomplete-url-value="/posts/search" role="combobox">
            <%= f.search_field :title_or_content_or_user_name_or_tags_name_cont, data: { autocomplete_target: 'input' }, placeholder: "検索", class: "input input-bordered input-neutral w-full" %>
            <%= f.hidden_field :title, data: { autocomplete_target: 'hidden' } %>
            <ul class="list-group bg-white absolute w-full md:text-sm max-w-max" data-autocomplete-target="results"></ul>
          </div>
        </div>
        <div class="my-auto">
          <%= button_tag type: "submit" do %>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="m15.75 15.75-2.489-2.489m0 0a3.375 3.375 0 1 0-4.773-4.773 3.375 3.375 0 0 0 4.774 4.774ZM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" /></svg>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>
<% end %>